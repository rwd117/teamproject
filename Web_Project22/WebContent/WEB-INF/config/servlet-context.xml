<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/mvc"   
			 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
			 xmlns:mvc="http://www.springframework.org/schema/mvc"  
			 xmlns:beans="http://www.springframework.org/schema/beans" 
			 xmlns:context="http://www.springframework.org/schema/context"
			 xsi:schemaLocation="http://www.springframework.org/schema/mvc
			 					 http://www.springframework.org/schema/mvc/spring-mvc.xsd
			 					 http://www.springframework.org/schema/beans
			 					 http://www.springframework.org/schema/beans/spring-beans.xsd
			 					 http://www.springframework.org/schema/context
			 					 http://www.springframework.org/schema/context/spring-context.xsd
			 					 http://www.springframework.org/schema/mvc 
			 					 http://www.springframework.org/schema/mvc/spring-mvc.xsd">

<annotation-driven/>
 
<beans:bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
	<beans:property name="prefix" value="/WEB-INF/view/"/>	
	<beans:property name="suffix" value=".jsp"/>
</beans:bean>

<resources location="/resources/" mapping="/**"/>

<context:component-scan base-package="kr.co.korea.controller"/>

	<!-- 다국어 설정 -->
	<beans:bean class="org.springframework.context.support.ReloadableResourceBundleMessageSource" id="messageSource">
		<beans:property name="basenames">
				<beans:list>
					<beans:value>/WEB-INF/properties/db</beans:value>
				</beans:list>
		</beans:property>
	</beans:bean>

	<beans:bean class="org.springframework.context.support.MessageSourceAccessor" id="sourceAccessor">
		<beans:constructor-arg ref="messageSource"/>
	</beans:bean>



<beans:bean class="org.springframework.web.multipart.support.StandardServletMultipartResolver" id="multipartResolver">
</beans:bean>

<!-- 인터셉터 -->
<interceptors>
	<interceptor>
		<mapping path="/**"/>
		<beans:bean class="kr.co.korea.interceptor.TopMenuInterceptor"></beans:bean>
	</interceptor>
	<interceptor>
		<mapping path="/**"/>
		<beans:bean class="kr.co.korea.interceptor.QanMenuTopInterceptor"></beans:bean>
	</interceptor>

	<interceptor>
    	<mapping path="/board/modify"/>
    	<mapping path="/board/delete"/>
    	<beans:bean class="kr.co.korea.interceptor.CheckWriterInterceptor"/>
    </interceptor>
    
       <interceptor>
       <mapping path="/user/logout"/>
       <mapping path="/user/mypage"/>
       <mapping path="/user/modify"/>
       <mapping path="/user/mailSend"/>
       <mapping path="/user/pwupdate"/>
       <mapping path="/user/memberdelete"/>
       <mapping path="/cart/*"/>
       <mapping path="/wishlist/*"/>
       <mapping path="/review/*"/>
       <mapping path="/orders/*"/>
       <mapping path="/board/*"/>
       <exclude-mapping path="/board/main"/>
       <beans:bean class="kr.co.korea.interceptor.CheckLoginInterceptor"/>
    </interceptor>
    
    <interceptor>
       <mapping path="/product/productInsert"/>
       <mapping path="/product/productModify"/>
       <mapping path="/product/productDelete"/>
       <mapping path="/members/**"/>
       <beans:bean class="kr.co.korea.interceptor.CheckAdminInterceptor"/>
    </interceptor>
</interceptors>
 

</beans:beans>
 











