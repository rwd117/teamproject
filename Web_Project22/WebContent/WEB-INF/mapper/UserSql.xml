<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="user">
<!-- 회원가입시에 정보를 insert -->
<insert id="addUserInfo" parameterType="kr.co.korea.beans.UserBean">
<![CDATA[
	insert into MEMBER(midx,mname,mid,mpw,memail,maddress,maddress2,mbirth,mphone,mpost)
	 values(user_seq.nextval, #{mname}, #{mid}, #{mpw}, #{memail}, #{maddress},#{maddress2}, #{mbirth},#{mphone},#{mpost})
]]>
</insert>
<!--  로그인 정보 가져오기 select -->
<select id="getLoginInfo" parameterType="kr.co.korea.beans.UserBean" resultType="kr.co.korea.beans.UserBean">
<![CDATA[
	select midx, mname,mid,mlevel
	from MEMBER 
	where mid=#{mid} and mpw=#{mpw}
]]>
</select>

<!-- 정보수정 -->
<update id="modifyUserInfo" parameterType="kr.co.korea.beans.UserBean" >
<![CDATA[
	update MEMBER
	set mpw=#{mpw},memail=#{memail},maddress=#{maddress},maddress2=#{maddress2},mphone=#{mphone},mpost=#{mpost}
	where midx=#{midx}
]]>
</update>
<!-- 중복아이디 버튼 id조회 -->
<select id="checkUserIdExist" parameterType="String" resultType="String">
<![CDATA[
  select mid
  from MEMBER
  where mid=#{mid}
]]>
</select>

<select id="getUserInfo" parameterType="Integer" resultType="kr.co.korea.beans.UserBean">

	select mname,mid,mpw,memail,maddress,maddress2,mbirth,mphone,mpost from member where midx=#{midx}

</select>


</mapper>

